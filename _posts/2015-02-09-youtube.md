---
author: atoms
type: youtube
featimg: web.jpg
title: «3 вещи, которые никто не знает о CSS»
tags: [Статьи, Обучение]
category: [Статьи]
layout: post-classic-sidebar-left
---
<p>Вы думаете, что знаете CSS? Если результаты <a href="https://sitthetest.com/tests">бесплатного онлайн-теста</a> не врут, большинство разработчиков знает CSS не так хорошо, как им кажется. У 3000 человек, прошедших тест, средний балл составляет 55%.</p> <p>Но средний балл это не так интересно. Я посмотрел, на какие вопросы люди чаще всего дают неправильный ответ. Для этой статьи я изучил это и выбрал три самых проблемных вопроса. Я разберу каждый вопрос, покажу самый распространенный ответ и покажу правильный ответ.</p> <p>А после чтения статьи можете <a href="https://sitthetest.com/tests">проверить</a> себя.</p> <h2 id="heading-line-height">Вопрос №1: как лучше задавать <code>line-height</code>?</h2> <p>Первый вопрос должен быть простым для всех, кто регулярно работает с формлением текста:</p> <blockquote> <p>Вам надо установить двойной межстрочный интервал по умолчанию. Какое значение <code>line-height</code> лучше всего подходит для этой цели? * 200% * 2em * 2 * double</p> </blockquote> <p>При четырех вариантах ответа чисто математически можно ожидать 25% правильных ответов, в реальности их чуть больше — 31%. Подумайте минуту и выберете свой ответ, а затем продолжайте чтение.</p> <p>Первый вариант, который мы исключим это <code>double</code>. Единственное ключевое слово, которое принимает <code>line-height </code> это <code>normal</code>, я рад, что 99% это понимают. Оставшиеся 3 варианта собирают примерно одинаковое количество сторонников.</p> <p>Наиболее популярный ответ <code>2em</code> (его выбирают 39%). Конечно, <code>2em</code> дадут вам двойной интервал у элемента, к которому он применен и то же самое дают и <code>200%</code> (их выбрали 21%). Или em в большей моде, чем проценты или люди не до конца понимают их.</p> <p>Однако правильный ответ это <code>2</code>.</p> <p>Я запомнил это еще в самом начале изучения CSS. Всегда определяйте <code>line-height</code> без указания единиц измерения — это позволит вложенным элементам с другим размером шрифта унаследовать именно интервал, а не фиксированную высоту строки.</p> <p>Предположим, что дефолтный размер шрифта на странице равен <code>12pt</code>, а размер шрифта в заголовке равен <code>24pt</code>. Если вы назначите <code>line-height</code> для <code>body</code> равным<code> 2em</code> (или <code>200%</code>), вы получите высоту строки в <code>24pt</code> (вдвое больше, чем <code>12pt</code> у <code>body</code>) во всем документе, в том числе в заголовке (а значит в заголовке будет одинарный интервал).</p> <p>А задание <code>line-height </code> равной <code>2</code> говорит браузеру о необходимости сохранять именно <em>соотношение высоты строки к размеру шрифта</em>. Высота строки в <code>body</code> будет равна <code>24pt</code>, а в заголовке она будет увеличиваться до <code>48pt</code>.</p> <h2 id="heading-section">Вопрос 2: как создать перекрытие элементов?</h2> <p>Этот вопрос с подковыркой. Он требует опыта трюков при создании макетов с CSS:</p> <blockquote> <p>Какое из свойств CSS, использованное само по себе может вызвать перекрытие элементов?</p> <ul> <li><code>z-index</code></li> <li><code>margin</code></li> <li><code>overflow</code></li> <li><code>background</code></li> </ul> </blockquote> <p>Выбрали ответ? Теперь взглянем на детали.</p> <p>Опять, здесь есть легко исключаемый вариант: <code>background</code>, на нем остановились лишь 2% тестируемых, остальные помнят, что это свойство относится к фоновым цветам и изображениям.</p> <p>К сожалению, большинство выбрало <code>z-index</code>, целых 46%. Я думаю, что это из-за непонимания работы <code>z-index</code>. Надо помнить что простое задание <code>z-index</code> не производит <em>никакого эффекта</em>, сначала надо установить свойство <code>position</code> в состояние, отличное от дефолтного. Короче говоря, <code>z-index</code> позволяет вам контролировать элементы,которые уже перекрываются, <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Understanding_z_index">отличная статья</a> об этом есть на сайте Mozilla.</p> <p>Свойство <code>overflow</code> вы также исключите, если вы с ним сталкивались. Оно контролирует поведение контента, не вмещающегося в контейнер: обрезается ли он или выходит за границы контейнера. И оно зависит от свойств контейнера — само по себе оно не может вызвать перекрытие. Но 22% считают иначе.</p> <p>У нас остался правильный ответ — <code>margin</code> и его дали лишь 30%. Вы можете удивиться, как свойство создающее расстояния между элементами создает перекрытия, но ответ прост: негативный <code>margin</code> может.</p> <p>Для демонстрации этого создадим простую страницу с двумя элементами <code>div</code>, зададим нижнему из них отрицательный <code>margin-top </code>, например, <code>-100px</code>. И теперь нижний див перекрывает верхний на те самые 100 пикселей.</p> <p>На практике, вы практически никогда не делаете перекрытие таким методом, но отрицательные отступы вещь очень удобная при позиционировании элементов. Я часто пользуюсь им для выталкивания плавающих элементов в зону пэддинга их контейнера.</p> <p><img src="/img/1429090154fig-negative-margin-float.png" alt="negative-margin-float." itemprop="image" /></p> <p>И небольшой экскурс в историю: в 2005 году именно перекрытие элементов с отрицательными отступами дало нам трехколоночные макеты, известные как <a href="http://positioniseverything.net/articles/onetruelayout/"> One True Layout </a> (позднее <a href="http://alistapart.com/article/holygrail">Holy Grail layout</a>).</p> <h2 id="heading-section-1">Вопрос 3: псевдоэлементы против псевдоклассов</h2> <p>Последний вопрос грубоват, не спорю. Но только 23% тестируемых ответили на него правильно, он четко бьет по больному месту:</p> <blockquote> <p>Какой из следующих эффектов лучше всего достигнуть с помощью псевдоэлемента?</p> <ul> <li>Добавление тени к элементу при наведении мыши.</li> <li>Смена цвета label у чекбокса при выборе.</li> <li>Задание чередующихся цветов для четных и нечетных рядов в таблице.</li> <li>Выделение первой строчки параграфа жирным в резиновом макете</li> </ul> </blockquote> <p>Три эффекта из списка достигаются с помощью псевдоклассов, а один с помощью псевдоэлементов. В чем разница?</p> <p><strong>Псевдо-класс</strong> это особое состояние, в которое может перейти HTML-элемент. Воспринимайте его как виртуальный класс, применяемый браузером автоматически к элементу при определенных условиях.</p> <p><strong>Псевдо-элемент</strong> — часть документа, которую можно стилизовать в CSS, несмотря на отсутствие такого элемента. Это как виртуальный элемент — что-то, что вы можете стилизовать даже при отсутствии тегов HTML.</p> <p>С учетом этих различий начнем разбирать примеры.</p> <h3 id="heading-section-2">Добавление тени к ссылке при наведении</h3> <p>Ссылка это HTML-элемент. Применение к ней стилей в отдельных состояниях говорит об использовании псевдо-класса, в данном случае <code>:hover</code>.</p> <p>Этот вариант выбрали 22% тестируемых.</p> <h3 id="heading-label----">Смена цвета label у чекбокса при выборе.</h3> <p><code>label</code> это реальный HTML-элемент, а не виртуальный. Когда пункт в чекбоксе выбран, браузер применяет к нему класс <code>:checked</code>. Вы можете использовать этот псевдо-класс при стилизации как самого чекбокса, так и привязанного к нему <code>label</code>.</p> <p>Этот вариант выбрали 20% тестируемых.</p> <h3 id="heading-section-3">Задание чередующихся цветов для четных и нечетных рядов в таблице.</h3> <p>Этот пункт одурачил многих, но в данном случае речь опять идет о применении стилей к существующим HTML-элементам (в данном случае <code>tr</code>). Выборка четных и нечетных рядов это опять применение псевдо-класса.</p> <p>Эти псевдо-классы соответственно <code>:nth-child(even)</code> и <code>:nth-child(odd)</code>. С псевдо-элементами их спутали 36%.</p> <h3 id="heading-section-4">Выделение первой строчки параграфа жирным в резиновом макете</h3> <p>И вот мы подошли к правильному ответу. В резиновом макете вы не можете заранее выделить нужное количество текста в отдельный элемент, это определяется динамически.</p> <p><code>:first-line</code> это псевдо-элемент, позволяющий вам применить стили к первой строке текстового блока, независимо от ее размера на экране.</p> <p>Вы можете сказать “ОК”, но не торопитесь — никто не знает разницы между псевдо-классами и псевдо-элементами в том числе и W3С. В спецификации <a href="http://dev.w3.org/csswg/selectors-3/#pseudo-elements">CSS селекторов</a> они отличаются синтаксисом — псевдо-элементы теперь выделяются двойным двоеточием (<code>::first-line</code>), а псевдоклассы — одинарным (<code>:hover</code>); в целях совместимости браузеры поддерживают поддерживают и старый (одинаковый) синтаксис.</p> <p>Да, это грубоваты вопрос, но CSS-гики должны отличать псевдо-элементы от псевдо-классов.</p> <h2 id="heading-section-5">Заключение</h2> <p>Вот и все — три самых сложных вопроса разобраны. Если вы дали хотя бы один правильный ответ, все не так уж плохо. Два? Отлично! Три? Можете писать свои статьи.</p> 
