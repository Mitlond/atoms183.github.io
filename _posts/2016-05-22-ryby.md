---
author: atoms
type: ryby
featimg: maxresdefault.jpg
title: «Обработка Markdown в Ruby»
tags: [Статьи, Обучение]
category: [Статьи]
layout: post-classic-sidebar-left
---
Markdown это фантастический язык разметки, компилируемый в HTML. Хотя изначально он написан на Perl, Markdown портирован на многие языки с различными функциями. В этой статье мы рассмотрим 4 имплементации Markdown на Ruby: kramdown, maruku, rdiscount и redcarpet.

Обработка Markdown в Ruby
Очевидно, что сначала надо установить нужные модули — gem install kramdown maruku rdiscount redcarpet. Это может занять время, так как RDiscount и Redcarpet используют расширения C для ускорения парсинга.

Также это означает то, что если ваш интерпретатор Ruby не поддерживает расширения C, вы не сможете использовать RDiscount или Redcarpet (это актуально при использовании JRuby).

Для нашего теста мы будем использовать тестовый файл в Markdown со страницы Джона Грубера, сохранив его под именем markup.md.

В каждой имплементации для обработки Markdown достаточно одной строчки кода.
<pre><code class="css">markdown = File.read('markup.md')

# kramdown
require 'kramdown'
Kramdown::Document.new(markdown).to_html

# maruku
require 'maruku'
Maruku.new(markdown).to_html

# rdiscount
require 'rdiscount'
RDiscount.new(markdown).to_html

# redcarpet
require 'redcarpet'
Redcarpet::Markdown.new(Redcarpet::Render::HTML.new).render(markdown)</code></pre>
Отлично! Мы видим, что в каждом фреймворке (за исключением Redcarpet) есть простой API для обработки Markdown.

Функционал
Оригинальная имплементация Markdown была хороша, но люди всегда хотят большего. Например, в оригинальном Markdown есть поддержка изображений и блоков с кодом, но многие пользователи были заинтересованы в другом синтаксисе и в лучшей расширяемости этих функций. Таким образом, функционал различных имплементаций Markdown может значительно расширяться.

Рассмотрим несколько наиболее популярных расширений и их поддержку в Ruby-имплементациях Markdown.

Блоки кода
Синтаксис блоков кода изначально предусматривал выделение кода отступами:


